{% extends 'base.html' %}

{% block extra_css %}
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/fixedheader/3.4.0/css/fixedHeader.dataTables.min.css">
{% endblock %}

{% block title %}
    Top 200 Filers by AUM
{% endblock %}

{% block content %}
    <h2>Top 200 Filers by AUM</h2>
    <table id="filersAumTable" class="table table-striped table-hover">
        <thead class="table-dark">
        <tr>
            <th>Filer Name</th>
            <th>Holdings Count</th>
            <th>Holdings Value</th>
            <th>Most recent filing</th>
        </tr>
        </thead>
        <tbody>
        {% for filer in filers %}
        <tr>
            <td>
                <a href="{{ filer_url(filer[0], filer[1]) }}">
                    {{ filer[1] | replace('_', ' ') }}
                </a>
            </td>
            <td>{{ filer[2] }}</td>
            <td>{{ filer[3] | format_large_number }}</td>
            <td><a href="{{ url_for('holdings', accession_nr=filer[4]) }}">Q{{ filer[6] }} {{ filer[5] }}</a></td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}


{% block scripts %}
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/fixedheader/3.4.0/js/dataTables.fixedHeader.min.js"></script>
    <script src="{{ url_for('static', filename='js/index-utils.js') }}"></script>
{% endblock %}