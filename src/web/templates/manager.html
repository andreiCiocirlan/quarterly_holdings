<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Manager Details for CIK {{ cik }}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body>
<div class="container mt-5">
    <a href="/" class="btn btn-secondary mb-3">Back to Home</a>

    <h2>{{ formatted_name | replace('_', ' ') }}</h2>
    <h2 class="mb-4">CIK {{ cik }}</h2>

    {% if filings %}
    <table class="table table-striped table-hover">
        <thead class="table-dark">
        <tr>
            <th>Quarter</th>
            <th>Top 20 Holdings %</th>
            <th>Holdings</th>
            <th>Value ($)</th>
            <th>Form Type</th>
            <th>Filing ID</th>
        </tr>
        </thead>
        <tbody>
        {% for filing in filings %}
        <tr>
            <td><a href="{{ url_for('holdings', accession_nr=filing[0]) }}">Q{{ filing[2] }} {{ filing[1] }}</a></td>
            <td>{{ "%.2f"|format(filing[6] if filing|length > 6 else 0) }}%</td>
            <td>{{ filing[4] or '-' }}</td>
            <td>{{ filing[5] }}</td>
            <td>{{ filing[3] or '-' }}</td>
            <td>{{ filing[0] }}</td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p>No filings found for this CIK.</p>
    {% endif %}

</div>
    <script src="{{ url_for('static', filename='js/holdings-utils.js') }}"></script>
</body>
</html>
